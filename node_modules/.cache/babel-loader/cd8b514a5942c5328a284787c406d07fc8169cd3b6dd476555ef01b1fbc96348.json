{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StatusDropdown=_ref=>{let{status,onStatusChange}=_ref;const[isOpen,setIsOpen]=useState(false);const[dropdownWidth,setDropdownWidth]=useState('auto');const[isDisabled,setIsDisabled]=useState(status==='Completed');const dropdownRef=useRef(null);const measureRef=useRef(null);const getStatusColor=status=>{switch(status){case'Completed':return'bg-green-100 text-green-800';case'In Progress':return'bg-yellow-100 text-yellow-800';case'Pending':return'bg-red-100 text-red-800';default:return'bg-gray-100 text-gray-800';}};useEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);useEffect(()=>{if(measureRef.current){setDropdownWidth(measureRef.current.offsetWidth);}},[isOpen]);const statusOptions=['Pending','In Progress','Completed'];return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>!isDisabled&&setIsOpen(!isOpen),className:\"\".concat(getStatusColor(status),\" inline-flex items-center px-3 py-1 rounded-full text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 \").concat(isDisabled?'cursor-not-allowed opacity-50':''),disabled:isDisabled,children:[status,/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 ml-2 transition-transform \".concat(isOpen?'rotate-180':''),xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"flex mt-2 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50\",style:{width:dropdownWidth},children:/*#__PURE__*/_jsx(\"ul\",{className:\"py-0\",role:\"menu\",children:statusOptions.map(option=>/*#__PURE__*/_jsx(\"li\",{ref:measureRef,className:\"hover:bg-gray-100\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{onStatusChange(option);setIsOpen(false);if(option==='Completed'){setIsDisabled(true);}},className:\"\".concat(status===option?'':'',\" text-center block px-4 py-2 text-sm text-gray-700\"),role:\"menuitem\",children:option})},option))})})]});};export default StatusDropdown;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","StatusDropdown","_ref","status","onStatusChange","isOpen","setIsOpen","dropdownWidth","setDropdownWidth","isDisabled","setIsDisabled","dropdownRef","measureRef","getStatusColor","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","offsetWidth","statusOptions","className","ref","children","onClick","concat","disabled","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","style","width","role","map","option"],"sources":["D:/Task Management/taskManager/src/components/statusDropdown.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\n\r\nconst StatusDropdown = ({ status, onStatusChange }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [dropdownWidth, setDropdownWidth] = useState('auto');\r\n    const [isDisabled, setIsDisabled] = useState(status === 'Completed');\r\n    const dropdownRef = useRef(null);\r\n    const measureRef = useRef(null);\r\n\r\n    const getStatusColor = (status) => {\r\n        switch(status) {\r\n            case 'Completed':\r\n                return 'bg-green-100 text-green-800';\r\n            case 'In Progress':\r\n                return 'bg-yellow-100 text-yellow-800';\r\n            case 'Pending':\r\n                return 'bg-red-100 text-red-800';\r\n            default:\r\n                return 'bg-gray-100 text-gray-800';\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (measureRef.current) {\r\n            setDropdownWidth(measureRef.current.offsetWidth);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const statusOptions = ['Pending', 'In Progress', 'Completed'];\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <button\r\n                onClick={() => !isDisabled && setIsOpen(!isOpen)}\r\n                className={`${getStatusColor(status)} inline-flex items-center px-3 py-1 rounded-full text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${isDisabled ? 'cursor-not-allowed opacity-50' : ''}`}\r\n                disabled={isDisabled}\r\n            >\r\n                {status}\r\n                <svg\r\n                    className={`w-4 h-4 ml-2 transition-transform ${isOpen ? 'rotate-180' : ''}`}\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                >\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                </svg>\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div className=\"flex mt-2 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50\" style={{ width: dropdownWidth }}>\r\n                    <ul className=\"py-0\" role=\"menu\">\r\n                        {statusOptions.map((option) => (\r\n                            <li key={option} ref={measureRef} className=\"hover:bg-gray-100\">\r\n                                <button\r\n                                    onClick={() => {\r\n                                        onStatusChange(option);\r\n                                        setIsOpen(false);\r\n                                        if (option === 'Completed') {\r\n                                            setIsDisabled(true);\r\n                                        }\r\n                                    }}\r\n                                    className={`${\r\n                                        status === option ? '' : ''\r\n                                    } text-center block px-4 py-2 text-sm text-gray-700`}\r\n                                    role=\"menuitem\"\r\n                                >\r\n                                    {option}\r\n                                </button>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StatusDropdown;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}